<%- include('../layout/header.ejs') %>
<link rel="stylesheet" href="/stylesheets/userStyles/userSignIn.css" type="text/css">
<link rel="stylesheet" href="/stylesheets/adminStyles/adminSignIn.css" type="text/css">
</head>
<body>
    <%- include('../layout/adminNav.ejs') %>
  
 <div class="topMargin d-flex align-items-center flex-column justify-content-center gap-4">
  <h3 class="mt-5">User List</h3>
  <h6 style="margin-top: 20px;">
    <span style="color: rgb(167, 16, 16)"> <b class='errorMessage'></b> </span>
  </h6>
  <table class="table w-75 table-striped table-bordered  table-hover">
    <thead class="thead-dark">
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% usersData.forEach(function(user) { %>
       <% if (!user.isAdmin) { %>
        <tr>
          <td><%= user.name %></td>
          <td><%= user.email %></td>
          <td><%= user.phone %></td>
          <td>
            <% if (user.isBlocked == false) { %>
              <span class="badge active badge-success">Active</span>
            <% } else { %>
              <span class="badge inactive badge-danger">Blocked</span>
            <% } %>
          </td>
          <td>
            <% if (user.isBlocked == false) { %>
              <button type="button" data-user-id=user._id class="btn btn-sm disableBtn" onclick="blockUser('<%= user._id %>')">Block</button>
            <% } else { %>
              <button type="button" data-user-id=user._id class="btn btn-sm enableBtn" onclick="unblockUser('<%= user._id %>')">Unblock</button>
            <% } %>
          </td>
        </tr>
        <% } %>
      <% }); %>
    </tbody>
  </table>
 </div>
  <script src="/javascripts/admin/users.js"></script>
  
</body>
</html>