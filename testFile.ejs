<%- include('../../layout/header.ejs') %>
  <link rel="stylesheet" href="/stylesheets/userStyles/userSignIn.css" type="text/css">
  <link rel="stylesheet" href="/stylesheets/adminStyles/adminSignIn.css" type="text/css">
  </head>

  <body>
    <%- include('../../layout/adminNavIn.ejs') %>


      <div class="topMargin d-flex flex-column align-items-center justify-content-center gap-2">
        <h1 class="mt-5">Products add</h1>
        <h6>
          <% if(locals.success==true){ %>
            <span style="color: rgb(96, 156, 96)">
              <b>
                <%= locals.productName %>
              </b> added succesfully</span>
            </span>
            <% } %>
        </h6>
        <form class="w-50 container" method="post" action="add" enctype="multipart/form-data">
          <div class="row">

            
          <!-- Product name input -->
          <div class="mb-3">
            <label for="productName" class="form-label">Product Name</label>
            <input id="productName" type="text" name="productName" class="form-control" id="productName"
              placeholder="Enter product name">
            <p id="productNameError"></p>
          </div>

          <!-- Product description input -->
          <div class="mb-3">
            <label for="description" class="form-label">Product Description</label>
            <textarea id="productDescription" class="form-control" name="description" id="productDescription"
              rows="3"></textarea>
              <p id="descriptionError"></p>
          </div>

          <!-- Product image input -->
          <div class="mb-3 container">
           <div class="row gap-2">
            <label for="productImage" class="form-label col-auto">Product Image</label>
            <input id="productImage" class="form-control col-auto" name="images" type="file" id="productImages" multiple>
            <img id="imagePreview0" class="col-2" src="" alt="">
            <img id="imagePreview1" class="col-2" src="" alt="">
            <img id="imagePreview2" class="col-2" src="" alt="">
            <img id="imagePreview3" class="col-2" src="" alt="">
            file
           </div>
          </div>

          <!-- Product price -->
          <div class="mb-3">
            <label for="productPrice" class="form-label">Product Price</label>
            <input type="number" name="price" class="form-control" id="productPrice" placeholder="Enter product price">
          </div>

          <!-- Product stock input -->
          <div class="mb-3">
            <label for="productStock" class="form-label">Product Initial Stock</label>
            <input type="number" name="stock" class="form-control" id="productStock" placeholder="Enter product stock">
          </div>
          
          <!-- Product category input -->
          <div class="mb-3">
            <label for="productCategory" class="form-label">Product Category</label>
            <select class="form-select" name="productCategory" id="productCategory" aria-label="Product Category">
              <option selected>Select product category</option>
              <% categories.forEach(function(category) { %>
                <% if (category.isActive) { %>
                  <option value="<%= category._id %>">
                    <%= category.name %>
                  </option>
                  <% } %>
                    <% }); %>
            </select>
          </div>

          <!-- Product subcategory input -->
          <div class="mb-3">
            <label for="productSubCategory" name="productSubCategory" class="form-label">Product Subcategory</label>
            <select name="productSubcategory" class="form-select" id="productSubcategory"
              aria-label="Product Subcategory">
              <option selected>Select product subcategory</option>
              <% subcategories.forEach(function(subcategory) { %>
                <% if (subcategory.isActive) { %>
                  <option value="<%= subcategory._id %>">
                    <%= subcategory.name %>
                  </option>
                  <% } %>
                    <% }); %>
            </select>
          </div>

          <!-- Submit -->
          <button type="submit" class="btn enableBtn">Add Product</button>

          <h6 style="color: rgb(204, 59, 30)" id="error" class="mt-2">
          </h6>
          
            
          </div>
        </form>
      </div>
      <script src="/validation/admin/productAdd.js"></script>
  </body>

  </html>